# ========================================
# üì¶ CONFIGURA√á√ÉO S3/MinIO - RAILWAY
# ========================================
# Adicione estas 5 linhas no servi√ßo Backend (Variables)
# ‚úÖ USA LINK INTERNO (mais r√°pido + seguro)

# 1. Endpoint INTERNO (comunica√ß√£o entre servi√ßos Railway)
# Usar Variable Reference para pegar do servi√ßo MinIO
S3_ENDPOINT_URL=${{Minio.MINIO_PRIVATE_ENDPOINT}}

# 2. Access Key (usu√°rio root)
# Usar Variable Reference
S3_ACCESS_KEY=${{Minio.MINIO_ROOT_USER}}

# 3. Secret Key (senha root)
# Usar Variable Reference
S3_SECRET_KEY=${{Minio.MINIO_ROOT_PASSWORD}}

# 4. Nome do bucket (criar manualmente se n√£o existir)
S3_BUCKET=alrea-media

# 5. Regi√£o (padr√£o S3)
S3_REGION=us-east-1

# ========================================
# üéØ COMO ADICIONAR NO RAILWAY:
# ========================================

# Op√ß√£o 1: Via UI (Recomendado)
# 1. Acesse Railway Dashboard
# 2. Selecione servi√ßo "Backend"
# 3. Aba "Variables"
# 4. Clique "New Variable"
# 5. Adicione cada vari√°vel (o Railway detecta automaticamente Variable References)

# Op√ß√£o 2: Via Railway CLI
railway variables set S3_ENDPOINT_URL='${{Minio.MINIO_PRIVATE_ENDPOINT}}'
railway variables set S3_ACCESS_KEY='${{Minio.MINIO_ROOT_USER}}'
railway variables set S3_SECRET_KEY='${{Minio.MINIO_ROOT_PASSWORD}}'
railway variables set S3_BUCKET='alrea-media'
railway variables set S3_REGION='us-east-1'

# ========================================
# ‚ö†Ô∏è IMPORTANTE:
# ========================================

# O nome do servi√ßo MinIO precisa estar EXATAMENTE como no Railway.
# Se o servi√ßo se chama "minio" (min√∫sculo), use: ${{minio.MINIO_PRIVATE_ENDPOINT}}
# Se o servi√ßo se chama "Minio" (mai√∫sculo), use: ${{Minio.MINIO_PRIVATE_ENDPOINT}}

# Para verificar o nome exato do servi√ßo:
railway status

# Ou veja na UI: Dashboard ‚Üí Nome do servi√ßo com o MinIO

# ========================================
# üîç VERIFICAR SE FUNCIONOU:
# ========================================

# Ap√≥s adicionar e deploy terminar (2-3 min):
railway logs | grep S3

# Deve aparecer:
# ‚úÖ [S3] Bucket 'alrea-media' j√° existe
# OU
# ‚ö†Ô∏è [S3] Bucket 'alrea-media' n√£o existe, tentando criar...
# ‚úÖ [S3] Bucket 'alrea-media' criado com sucesso

# ========================================
# üöÄ BENEF√çCIOS DO LINK INTERNO:
# ========================================

# ‚úÖ Mais r√°pido (rede interna Railway)
# ‚úÖ Mais seguro (n√£o sai para internet)
# ‚úÖ Sem limite de banda (Railway n√£o cobra tr√°fego interno)
# ‚úÖ Credenciais sincronizadas automaticamente (se mudar no MinIO, Backend pega autom√°tico)

# ========================================
# üìù ALTERNATIVA (SE DER ERRO):
# ========================================

# Se Variable References n√£o funcionarem, use valores diretos:
# (menos recomendado, mas funciona)

S3_ENDPOINT_URL=https://bucket-production-8fb1.up.railway.app
S3_ACCESS_KEY=u2gh8aomMEdqPFW1JIlTn7VcCUhRCobL
S3_SECRET_KEY=zSMwLiOH1fURqSNX8zMtMYKBjrScDQYynCW2TbI2UuXM7Bti
S3_BUCKET=alrea-media
S3_REGION=us-east-1

