web: cd backend && echo "🚀 [DEPLOY] ==========================================" && echo "🚀 [DEPLOY] INICIANDO DEPLOY - $(date)" && echo "🚀 [DEPLOY] ==========================================" && echo "📋 [DEPLOY] Verificando variáveis de ambiente..." && echo "📋 [DEPLOY] DATABASE_URL: ${DATABASE_URL:0:20}..." && echo "📋 [DEPLOY] REDIS_URL: ${REDIS_URL:0:20}..." && echo "📋 [DEPLOY] DEBUG: $DEBUG" && echo "📦 [DEPLOY] Executando migrações..." && timeout 300 python manage.py migrate --fake-initial --verbosity=2 && echo "✅ [DEPLOY] Migrações concluídas!" && echo "👤 [DEPLOY] Criando superuser..." && timeout 60 python create_superuser.py && echo "✅ [DEPLOY] Superuser criado!" && echo "🗂️ [DEPLOY] Coletando arquivos estáticos..." && python manage.py collectstatic --noinput && echo "✅ [DEPLOY] Arquivos estáticos coletados!" && echo "🔍 [DEPLOY] Verificando configurações..." && python manage.py check --deploy && echo "✅ [DEPLOY] Configurações verificadas!" && echo "🌐 [DEPLOY] Iniciando servidor Daphne na porta $PORT..." && echo "🚀 [DEPLOY] SERVIDOR INICIADO - $(date)" && daphne -b 0.0.0.0 -p $PORT alrea_sense.asgi:application
worker: cd backend && echo "🔄 [WORKER] ==========================================" && echo "🔄 [WORKER] INICIANDO CELERY WORKER - $(date)" && echo "🔄 [WORKER] ==========================================" && echo "📋 [WORKER] Verificando conexão Redis..." && echo "📋 [WORKER] REDIS_URL: ${REDIS_URL:0:20}..." && celery -A alrea_sense worker -l info
beat: cd backend && echo "⏰ [BEAT] ==========================================" && echo "⏰ [BEAT] INICIANDO CELERY BEAT - $(date)" && echo "⏰ [BEAT] ==========================================" && echo "📋 [BEAT] Verificando conexão Redis..." && echo "📋 [BEAT] REDIS_URL: ${REDIS_URL:0:20}..." && celery -A alrea_sense beat -l info

